# Task 012: –£–ª—É—á—à–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–º–µ–Ω–∏ —Ä–µ–±–µ–Ω–∫–∞

**Status:** üü° SIMPLE
**Created:** 2025-12-27
**Estimated Time:** ~1.5h

---

## üìù Description

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏–º–µ–Ω–∏ —Ä–µ–±–µ–Ω–∫–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤ (—Ç–æ–ª—å–∫–æ 1 —Å–ª–æ–≤–æ) –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –Ω–µ–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏.

---

## üéØ Requirements

### 1. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –¥–æ 1 —Å–ª–æ–≤–∞
- –ü—Ä–∏ –≤–≤–æ–¥–µ –∏–º–µ–Ω–∏ —Å –ø—Ä–æ–±–µ–ª–∞–º–∏ - –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É –∏ –ø—Ä–æ—Å–∏—Ç—å –≤–≤–µ—Å—Ç–∏ –æ–¥–Ω–æ —Å–ª–æ–≤–æ
- –ü—Ä–∏–º–µ—Ä: "–ú–∞—à–∞ –ü–µ—Ç—è" ‚Üí –ø—Ä–∏–Ω—è—Ç—å "–ú–∞—à–∞" –∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É

### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏
- –ù–∞–π—Ç–∏ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –º–∞—Ç–∞ –∏ –Ω–µ–ø—Ä–∏—Å—Ç–æ–π–Ω–æ—Å—Ç–µ–π
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
- –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–ª–æ–≤–∞
- –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:
  - –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–µ–∂–ª–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
  - –ü–æ–ø—Ä–æ—Å–∏—Ç—å –≤–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–æ–µ –∏–º—è
  - –ù–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∏–º—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

---

## üîß Technical Details

**Files to modify/create:**
- `src/bot/conversations/greeting.ts` - –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏–º–µ–Ω–∏
- `src/services/profanity-filter.ts` - –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `locales/ru.ftl` - –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**Suggested libraries:**
- `leo-profanity` - –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- `bad-words` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤

**Validation logic:**
```typescript
// –ü—Å–µ–≤–¥–æ–∫–æ–¥
function validateChildName(name: string): { valid: boolean, error?: string } {
  // 1. Trim whitespace
  const trimmed = name.trim()

  // 2. Check for single word
  if (trimmed.includes(' ')) {
    return { valid: false, error: 'name-must-be-single-word' }
  }

  // 3. Check for profanity
  if (profanityFilter.check(trimmed)) {
    return { valid: false, error: 'name-contains-inappropriate-content' }
  }

  return { valid: true }
}
```

---

## ‚úÖ Acceptance Criteria

- [ ] –ò–º—è —Ä–µ–±–µ–Ω–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ 1 —Å–ª–æ–≤–æ–º
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏
- [ ] –°–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- [ ] –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∏–º–µ–Ω–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–∫—Å—Ç—ã –≤ `locales/ru.ftl`

---

## üì¢ Next Steps

üì¢ @alex - need architecture plan for validation service!
